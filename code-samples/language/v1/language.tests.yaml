test:
  suites:
  - name: Natural Language V1
    cases:

    - name: Analyze Syntax
      spec:
      - call:
          target: language_syntax_text
          params:
            text_content:
              literal: "California is a state."
      # Breaks in PHP – pending enum support – https://github.com/protocolbuffers/protobuf/pull/5342
      #
      # sampletester does not yet allow certain languages to be skipped, so comment out this assertion
      #
      # - assert_contains:
      #  - literal: "Part of speech: NOUN"
      - assert_contains:
        - literal: "Text: California"

    - name: Analyze Syntax – GCS
      spec:
      - call:
          target: language_syntax_gcs
          params:
            gcs_uri:
              literal: "gs://cloud-samples-data/language/california.txt"
      # Breaks in PHP – pending enum support – https://github.com/protocolbuffers/protobuf/pull/5342
      #
      # sampletester does not yet allow certain languages to be skipped, so comment out this assertion
      #
      #- assert_contains:
      #  - literal: "Part of speech: NOUN"
      - assert_contains:
        - literal: "Text: California"

    - name: Analyze Sentiment – Positive
      spec:
      - call:
          target: language_sentiment_text
          params:
            text_content:
              literal: "I am so happy and joyful."
      - assert_contains:
        - literal: "Score: 0."
        - literal: "Magnitude: 0."

    - name: Analyze Sentiment – Negative
      spec:
      - call:
          target: language_sentiment_text
          params:
            text_content:
              literal: "I am so sad and upset."
      - assert_contains:
        - literal: "Score: -0."
        - literal: "Magnitude: 0."

    - name: Analyze Sentiment – GCS – Positive
      spec:
      - call:
          target: language_sentiment_gcs
          params:
            gcs_uri:
              literal: "gs://cloud-samples-data/language/positive.txt"
      - assert_contains:
        - literal: "Score: 0."
        - literal: "Magnitude: 0."

    - name: Analyze Sentiment – GCS – Negative
      spec:
      - call:
          target: language_sentiment_gcs
          params:
            gcs_uri:
              literal: "gs://cloud-samples-data/language/negative.txt"
      - assert_contains:
        - literal: "Score: -0."
        - literal: "Magnitude: 0."
       
    - name: Analyze Entities
      spec:
      - call:
          target: language_entities_text
          params:
            text_content:
              literal: "California is a state."
      - assert_contains:
        - literal: "Entity name: California"
        #- literal: "Entity type: LOCATION"
        - literal: "Entity salience score: 1"
        - literal: "Mention: California"
        #- literal: "Mention type: PROPER"
        - literal: "Mention: state"

    - name: Analyze Entities – GCS
      spec:
      - call:
          target: language_entities_gcs
          params:
            gcs_uri:
              literal: "gs://cloud-samples-data/language/california.txt"
      - assert_contains:
        - literal: "Entity name: California"
        #- literal: "Entity type: LOCATION"
        - literal: "Entity salience score: 1"
        - literal: "Mention: California"
        #- literal: "Mention type: PROPER"
        - literal: "Mention: state"